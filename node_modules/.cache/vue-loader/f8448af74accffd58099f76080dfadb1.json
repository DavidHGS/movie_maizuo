{"remainingRequest":"E:\\vue_workspace\\movie\\node_modules\\_vue-loader@15.9.0@vue-loader\\lib\\index.js??vue-loader-options!E:\\vue_workspace\\movie\\src\\views\\city.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\vue_workspace\\movie\\src\\views\\city.vue","mtime":1584375108716},{"path":"E:\\vue_workspace\\movie\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\vue_workspace\\movie\\node_modules\\_babel-loader@8.0.6@babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\vue_workspace\\movie\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\vue_workspace\\movie\\node_modules\\_vue-loader@15.9.0@vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBJbmRleExpc3QsIEluZGV4U2VjdGlvbiB9IGZyb20gIm1pbnQtdWkiOw0KaW1wb3J0IFZ1ZSBmcm9tICJ2dWUiOw0KaW1wb3J0IGF4aW9zIGZyb20gImF4aW9zIjsNClZ1ZS5jb21wb25lbnQoSW5kZXhMaXN0Lm5hbWUsIEluZGV4TGlzdCk7DQpWdWUuY29tcG9uZW50KEluZGV4U2VjdGlvbi5uYW1lLCBJbmRleFNlY3Rpb24pOw0KZXhwb3J0IGRlZmF1bHQgew0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBkYXRhTGlzdDogW10NCiAgICB9Ow0KICB9LA0KICBtb3VudGVkKCkgew0KICAgIGF4aW9zKHsNCiAgICAgIHVybDogImh0dHBzOi8vbS5tYWl6dW8uY29tL2dhdGV3YXk/az0yMTkyMDc5IiwNCiAgICAgIGhlYWRlcnM6IHsNCiAgICAgICAgIlgtQ2xpZW50LUluZm8iOg0KICAgICAgICAgICd7ImEiOiIzMDAwIiwiY2giOiIxMDAyIiwidiI6IjUuMC40IiwiZSI6IjE1ODQxMDQ5Nzk3Njg3OTkxNDYwODcifScsDQogICAgICAgICJYLUhvc3QiOiAiIG1hbGwuZmlsbS10aWNrZXQuY2l0eS5saXN0Ig0KICAgICAgfQ0KICAgIH0pLnRoZW4ocmVzID0+IHsNCiAgICAgIHRoaXMuaGFuZGVsQ2l0eShyZXMuZGF0YS5kYXRhLmNpdGllcyk7DQogICAgfSk7DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBjaGFuZ2VDaXR5KGNpdHlJZCwgY2l0eSkgew0KICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oImNpdHlJZCIsIGNpdHlJZCk7DQogICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgiY2l0eSIsIGNpdHkpOw0KICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9jaW5lbWEiKTsNCiAgICB9LA0KICAgIGhhbmRlbENpdHkoZGF0YUxpc3QpIHsNCiAgICAgIGxldCBsZXR0ZXJBcnIgPSBbXTsNCiAgICAgIGZvciAodmFyIGkgPSA2NTsgaSA8PSA5MDsgaSsrKSB7DQogICAgICAgIGxldHRlckFyci5wdXNoKFN0cmluZy5mcm9tQ2hhckNvZGUoaSkpOw0KICAgICAgfQ0KICAgICAgdmFyIG5ld0xpc3QgPSBbXTsNCiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbGV0dGVyQXJyLmxlbmd0aDsgaisrKSB7DQogICAgICAgIHZhciBhcnIgPSBkYXRhTGlzdC5maWx0ZXIoDQogICAgICAgICAgaXRlbSA9PiBpdGVtLnBpbnlpbi5zdWJzdHJpbmcoMCwgMSkgPT0gbGV0dGVyQXJyW2pdLnRvTG93ZXJDYXNlKCkNCiAgICAgICAgKTsNCiAgICAgICAgaWYgKGFyci5sZW5ndGggPiAwKSB7DQogICAgICAgICAgbmV3TGlzdC5wdXNoKHsNCiAgICAgICAgICAgIGluZGV4OiBsZXR0ZXJBcnJbal0sDQogICAgICAgICAgICBsaXN0OiBhcnINCiAgICAgICAgICB9KTsNCiAgICAgICAgfQ0KICAgICAgfQ0KICAgICAgdGhpcy5kYXRhTGlzdCA9IG5ld0xpc3Q7DQogICAgfQ0KICB9DQp9Ow0K"},{"version":3,"sources":["city.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAoBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"city.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div>\r\n    <mt-index-list>\r\n      <mt-index-section\r\n        :index=\"list.index\"\r\n        v-for=\"list in dataList\"\r\n        :key=\"list.index\"\r\n      >\r\n        <div\r\n          v-for=\"data in list.list\"\r\n          :key=\"data.cityId\"\r\n          @click=\"changeCity(data.cityId, data.name)\"\r\n        >\r\n          <mt-cell :title=\"data.name\"></mt-cell>\r\n        </div>\r\n      </mt-index-section>\r\n    </mt-index-list>\r\n  </div>\r\n</template>\r\n<script>\r\nimport { IndexList, IndexSection } from \"mint-ui\";\r\nimport Vue from \"vue\";\r\nimport axios from \"axios\";\r\nVue.component(IndexList.name, IndexList);\r\nVue.component(IndexSection.name, IndexSection);\r\nexport default {\r\n  data() {\r\n    return {\r\n      dataList: []\r\n    };\r\n  },\r\n  mounted() {\r\n    axios({\r\n      url: \"https://m.maizuo.com/gateway?k=2192079\",\r\n      headers: {\r\n        \"X-Client-Info\":\r\n          '{\"a\":\"3000\",\"ch\":\"1002\",\"v\":\"5.0.4\",\"e\":\"1584104979768799146087\"}',\r\n        \"X-Host\": \" mall.film-ticket.city.list\"\r\n      }\r\n    }).then(res => {\r\n      this.handelCity(res.data.data.cities);\r\n    });\r\n  },\r\n  methods: {\r\n    changeCity(cityId, city) {\r\n      localStorage.setItem(\"cityId\", cityId);\r\n      localStorage.setItem(\"city\", city);\r\n      this.$router.push(\"/cinema\");\r\n    },\r\n    handelCity(dataList) {\r\n      let letterArr = [];\r\n      for (var i = 65; i <= 90; i++) {\r\n        letterArr.push(String.fromCharCode(i));\r\n      }\r\n      var newList = [];\r\n      for (var j = 0; j < letterArr.length; j++) {\r\n        var arr = dataList.filter(\r\n          item => item.pinyin.substring(0, 1) == letterArr[j].toLowerCase()\r\n        );\r\n        if (arr.length > 0) {\r\n          newList.push({\r\n            index: letterArr[j],\r\n            list: arr\r\n          });\r\n        }\r\n      }\r\n      this.dataList = newList;\r\n    }\r\n  }\r\n};\r\n</script>\r\n"]}]}