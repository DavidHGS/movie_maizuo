{"remainingRequest":"E:\\vue_workspace\\movie\\node_modules\\_vue-loader@15.9.0@vue-loader\\lib\\index.js??vue-loader-options!E:\\vue_workspace\\movie\\src\\views\\detail.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\vue_workspace\\movie\\src\\views\\detail.vue","mtime":1584375080715},{"path":"E:\\vue_workspace\\movie\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\vue_workspace\\movie\\node_modules\\_thread-loader@2.1.3@thread-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\vue_workspace\\movie\\node_modules\\_babel-loader@8.0.6@babel-loader\\lib\\index.js","mtime":499162500000},{"path":"E:\\vue_workspace\\movie\\node_modules\\_cache-loader@4.1.0@cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"E:\\vue_workspace\\movie\\node_modules\\_vue-loader@15.9.0@vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOw0KaW1wb3J0IFZ1ZSBmcm9tICJ2dWUiOw0KaW1wb3J0IHN3aXBlciBmcm9tICJAL3ZpZXdzL2RldGFpbC9kZXRhaXN3aXBlciI7DQovL3VuaXjml7bpl7TovazmjaLkuLrmoIflh4bml7bpl7QNClZ1ZS5maWx0ZXIoInRpbWVmaWx0ZXIiLCB1bml4dGltZSA9PiB7DQogIHZhciB1bml4VGltZXN0YW1wID0gbmV3IERhdGUodW5peHRpbWUgKiAxMDAwKTsNCiAgcmV0dXJuIHVuaXhUaW1lc3RhbXANCiAgICAudG9Mb2NhbGVTdHJpbmcoKQ0KICAgIC5zcGxpdCgiICIpWzBdDQogICAgLnNwbGl0KCIvIikNCiAgICAuam9pbigiLSIpOw0KfSk7DQoNCmV4cG9ydCBkZWZhdWx0IHsNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgbW92aWVpbmZvOiBudWxsLA0KICAgICAgaXNoaWRkZW46IHRydWUsDQogICAgICBteXN0eWxlOiB7DQogICAgICAgIGhlaWdodDogIjBweCINCiAgICAgIH0NCiAgICB9Ow0KICB9LA0KICBjb21wb25lbnRzOiB7DQogICAgc3dpcGVyDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBoYW5kZWxoaWRkZW4oKSB7DQogICAgICB0aGlzLmlzaGlkZGVuID0gIXRoaXMuaXNoaWRkZW47DQogICAgfSwNCiAgICBnb2JhY2soZGF0YSkgew0KICAgICAgZGF0YQ0KICAgICAgICA/IHRoaXMuJHJvdXRlci5wdXNoKCIvZmlsbS9ub3dwbGF5aW5nIikNCiAgICAgICAgOiB0aGlzLiRyb3V0ZXIucHVzaCgiL2ZpbG0vY29taW5nc29vbiIpOw0KICAgIH0NCiAgfSwNCiAgYmVmb3JlTW91bnQoKSB7DQogICAgdGhpcy4kc3RvcmUuY29tbWl0KCJoaWRkZW5NYWl6dW9UYWJiYXIiLCBmYWxzZSk7DQogIH0sDQogIG1vdW50ZWQoKSB7DQogICAgdGhpcy5teXN0eWxlLmhlaWdodCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQgLSA1MCArICJweCI7DQogICAgYXhpb3Moew0KICAgICAgdXJsOiBgaHR0cHM6Ly9tLm1haXp1by5jb20vZ2F0ZXdheT9maWxtSWQ9JHt0aGlzLiRyb3V0ZS5wYXJhbXMuaWR9Jms9NDk1NDEzNWAsDQogICAgICBoZWFkZXJzOiB7DQogICAgICAgICJYLUNsaWVudC1JbmZvIjoNCiAgICAgICAgICAneyJhIjoiMzAwMCIsImNoIjoiMTAwMiIsInYiOiI1LjAuNCIsImUiOiIxNTg0MTA0OTc5NzY4Nzk5MTQ2MDg3IiwiYmMiOiI1MTAxMDAifScsDQogICAgICAgICJYLUhvc3QiOiAiIG1hbGwuZmlsbS10aWNrZXQuZmlsbS5pbmZvIg0KICAgICAgfQ0KICAgIH0pLnRoZW4ocmVzID0+IHsNCiAgICAgIHRoaXMubW92aWVpbmZvID0gcmVzLmRhdGEuZGF0YS5maWxtOw0KICAgIH0pOw0KICB9LA0KICBiZWZvcmVEZXN0cm95KCkgew0KICAgIHRoaXMuJHN0b3JlLmNvbW1pdCgic2hvd01haXp1b1RhYmJhciIsIHRydWUpOw0KICB9DQp9Ow0K"},{"version":3,"sources":["detail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"detail.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div class=\"movie\" :style=\"mystyle\">\r\n    <div v-if=\"movieinfo\" class=\"film\">\r\n      <div class=\"film-header\">\r\n        <div class=\"goBack\" @click=\"goback($store.state.isNowplaying)\">\r\n          <img\r\n            src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADoAAAA6CAMAAADWZboaAAAAt1BMVEVHcEz///////////////////////////////////////////////////////////////////////////////////97e3saGxyIiYnW1tYdHh9UVVUpKiulpaXLy8s6OzyysrIiIyPx8fEeHyC/v7/5+fklJihCQ0Ntb28bHB1hYWKXl5c0NTZLS0xAQUI4ODk3ODjh4eHr6+s2Nzfq6uptbm5gYGIbHB39/f2VlZdLS0wzNDUZGhs8UYRWAAAAPHRSTlMAGHpLE3cKgEdgVnJfNBZ+cBx9A28js/6sjPvK7p+Q3pn1g/iUgfLYuvzCpeTR2eHiiIXihrvD/YCl0uTUXbEtAAABd0lEQVRIx91W13KDQAw0xnCHARuDe+/dKY7T9f/flTzghCLdMaMXj/eRnZ0T0qqUSveBim96gRWGVuCZfqW4zpCuSMGVRiFhwxEInIY+0qogUFXHHcm6IFGXEa20HaGEY1PKWlNo0KzhylZZaFFuoW8WUP5qkXdtMtrnx4dkzLn/jcgMXY7wlMpVNs+SUs4nMOylvsiME6h6rjawHmfqm/YG6aETzJY5X6V8SykHsJjmvyb9TOVoD/0R5qpElxHKLewOKGHo0tuGThdn/pPsony3A20iHPevMih92MGW9OO1Pj5Gjvqwp63sx1IT4aYLGCi6wIylXp5azuCkaiAvlgY5ZryGzUolDWKplSV6Q5jMlW1rxdIwS7zA8azu+JCWfl+KSRkBM9KEF+fro0BxGJagjPimNyJp/1et/RlNx2l1esC8f2oGDGOscYYpY4RzFgdjXSmW5Fm3JBmrmXMQcM4QzvHDObk4hx7nvGQdtaxTmnXA3zR+AH8JUdNL967cAAAAAElFTkSuQmCC\"\r\n            alt=\"\"\r\n          />\r\n        </div>\r\n        <div class=\"title\">{{ movieinfo.name }}</div>\r\n        <!---->\r\n      </div>\r\n      <img :src=\"movieinfo.poster\" class=\"poster\" />\r\n      <div class=\"film-detail\">\r\n        <div class=\"col\">\r\n          <div class=\"film-name\">\r\n            <span class=\"name\">{{ movieinfo.name }}</span\r\n            ><span class=\"item\">{{ movieinfo.filmType.name }}</span>\r\n          </div>\r\n          <div class=\"film-grade\" v-if=\"movieinfo.grade\">\r\n            <span class=\"grade\">{{ movieinfo.grade }}</span>\r\n            <span class=\"grade-text\">分</span>\r\n          </div>\r\n        </div>\r\n        <div class=\"film-category grey-text\">\r\n          {{ movieinfo.category }}\r\n        </div>\r\n        <div class=\"film-premiere-time grey-text\">\r\n          {{ movieinfo.premiereAt | timefilter }}上映\r\n        </div>\r\n        <div class=\"film-nation-runtime grey-text\">\r\n          {{ movieinfo.nation }} | {{ movieinfo.runtime }}分钟\r\n        </div>\r\n        <div class=\"test grey-text\">{{ movieinfo.synopsis }}</div>\r\n        <div\r\n          class=\"film-synopsis grey-text\"\r\n          :class=\"ishidden ? 'hidde' : ''\"\r\n          style=\"height: 173px;\"\r\n        >\r\n          {{ movieinfo.synopsis }}\r\n        </div>\r\n        <div class=\"toggle\" @click=\"handelhidden()\">\r\n          <img\r\n            src=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAICAMAAADHqI+lAAAAOVBMVEVHcEy9xcW9wMW9wcW////Bwca9wcW9wMW9wMW+wMW+wcW9wcXMzMy+wMa+wce9wMe9wca9wMW9wMWKU/2FAAAAEnRSTlMAH+jGBDa6/vaatcIPdlNSdckJHB8JAAAASUlEQVQIHQXBhwGDMAADMCVksQr4/2MrObYCQNkOZ2oH6DWna2Q9wG9lXLQ984V3Zm/gntlb2zNvgN/KGFkPAL0mtQNA+b4C/AGl4gJfgEWzrAAAAABJRU5ErkJggg==\"\r\n            alt=\"\"\r\n            class=\"upper\"\r\n          />\r\n        </div>\r\n      </div>\r\n      <!-- 演职人员轮播 -->\r\n      <div class=\"actors-title-bar\" style=\"padding:0 15px 15px 15px;\">\r\n        <span class=\"actors-title-text\">演职人员</span>\r\n      </div>\r\n      <swiper preview=\"4\" class=\"actorswiper\" myclass=\"actorswiper\">\r\n        <div\r\n          class=\"swiper-slide actor-swiper-slide\"\r\n          v-for=\"data in movieinfo.actors\"\r\n          :key=\"data.name\"\r\n        >\r\n          <img :src=\"data.avatarAddress\" />\r\n          <span class=\"actor-name\">{{ data.name }}</span>\r\n          <span class=\"actor-role\">{{ data.role }}</span>\r\n        </div>\r\n      </swiper>\r\n      <div class=\"photos\">\r\n        <div class=\"photos-title-bar\">\r\n          <span class=\"photos-title-text\">剧照</span>\r\n          <span class=\"photos-to-all\"\r\n            >全部({{ movieinfo.photos.length }})<i\r\n              class=\"iconfont iconarrow-right\"\r\n              style=\"font-size: 13px;\"\r\n            ></i\r\n          ></span>\r\n        </div>\r\n\r\n        <!-- 剧照轮播 -->\r\n        <swiper preview=\"3\" class=\"photoswiper\" myclass=\"photoswiper\">\r\n          <div\r\n            class=\"swiper-slide\"\r\n            v-for=\"(data, index) in movieinfo.photos\"\r\n            :key=\"index\"\r\n          >\r\n            <img :src=\"data\" />\r\n          </div>\r\n        </swiper>\r\n        <a\r\n          href=\"#/film/5029/cinemas\"\r\n          class=\"\"\r\n          style=\"height: 49px; position: fixed; bottom: 0px; width: 100%;\"\r\n          ><div class=\"goSchedule\">\r\n            选座购票\r\n          </div></a\r\n        >\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport axios from \"axios\";\r\nimport Vue from \"vue\";\r\nimport swiper from \"@/views/detail/detaiswiper\";\r\n//unix时间转换为标准时间\r\nVue.filter(\"timefilter\", unixtime => {\r\n  var unixTimestamp = new Date(unixtime * 1000);\r\n  return unixTimestamp\r\n    .toLocaleString()\r\n    .split(\" \")[0]\r\n    .split(\"/\")\r\n    .join(\"-\");\r\n});\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      movieinfo: null,\r\n      ishidden: true,\r\n      mystyle: {\r\n        height: \"0px\"\r\n      }\r\n    };\r\n  },\r\n  components: {\r\n    swiper\r\n  },\r\n  methods: {\r\n    handelhidden() {\r\n      this.ishidden = !this.ishidden;\r\n    },\r\n    goback(data) {\r\n      data\r\n        ? this.$router.push(\"/film/nowplaying\")\r\n        : this.$router.push(\"/film/comingsoon\");\r\n    }\r\n  },\r\n  beforeMount() {\r\n    this.$store.commit(\"hiddenMaizuoTabbar\", false);\r\n  },\r\n  mounted() {\r\n    this.mystyle.height = document.documentElement.clientHeight - 50 + \"px\";\r\n    axios({\r\n      url: `https://m.maizuo.com/gateway?filmId=${this.$route.params.id}&k=4954135`,\r\n      headers: {\r\n        \"X-Client-Info\":\r\n          '{\"a\":\"3000\",\"ch\":\"1002\",\"v\":\"5.0.4\",\"e\":\"1584104979768799146087\",\"bc\":\"510100\"}',\r\n        \"X-Host\": \" mall.film-ticket.film.info\"\r\n      }\r\n    }).then(res => {\r\n      this.movieinfo = res.data.data.film;\r\n    });\r\n  },\r\n  beforeDestroy() {\r\n    this.$store.commit(\"showMaizuoTabbar\", true);\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.film .film-header {\r\n  position: fixed;\r\n  background-color: hsla(0, 0%, 100%, 0);\r\n  color: transparent;\r\n  -webkit-transition: all 0.3s ease;\r\n  -o-transition: all 0.3s ease;\r\n  transition: all 0.3s ease;\r\n  width: 100vw;\r\n  height: 44px;\r\n  z-index: 1;\r\n  .goBack {\r\n    height: 30px;\r\n    position: absolute;\r\n    top: 5px;\r\n    left: 5px;\r\n    img {\r\n      width: 30px;\r\n    }\r\n  }\r\n  .title {\r\n    font-size: 17px;\r\n    line-height: 44px;\r\n    width: 100vw;\r\n    text-align: center;\r\n  }\r\n}\r\n\r\n.poster {\r\n  width: 100%;\r\n}\r\n.photoswiper {\r\n  img {\r\n    height: 70px;\r\n  }\r\n}\r\n.movie {\r\n  overflow-y: auto;\r\n}\r\n.film {\r\n  .film-detail {\r\n    padding: 15px;\r\n    padding-top: 12px;\r\n    background-color: #fff;\r\n    .film-synopsis {\r\n      transition: height 0.5s ease;\r\n      margin-top: 12px;\r\n    }\r\n    .col {\r\n      display: flex;\r\n      justify-content: flex-start;\r\n      align-items: center;\r\n      .film-name {\r\n        width: 100%;\r\n        .name {\r\n          color: #191a1b;\r\n          font-size: 18px;\r\n          height: 24px;\r\n          line-height: 24px;\r\n          margin-right: 7px;\r\n        }\r\n        .item {\r\n          font-size: 9px;\r\n          color: #fff;\r\n          background-color: #d2d6dc;\r\n          height: 14px;\r\n          line-height: 14px;\r\n          padding: 0 2px;\r\n          border-radius: 2px;\r\n          display: inline-block;\r\n        }\r\n      }\r\n      .film-grade {\r\n        width: calc(100% - 250px);\r\n        text-align: right;\r\n        color: #ffb232;\r\n        .grade {\r\n          font-size: 18px;\r\n          font-style: italic;\r\n        }\r\n        .grade-text {\r\n          font-size: 10px;\r\n        }\r\n      }\r\n    }\r\n    .grey-text {\r\n      font-size: 13px;\r\n      color: #797d82;\r\n      margin-top: 4px;\r\n    }\r\n    .hidde {\r\n      height: 36px !important;\r\n      overflow: hidden;\r\n      transition: height 0.5s ease;\r\n    }\r\n    .toggle {\r\n      text-align: center;\r\n      display: block;\r\n      height: auto;\r\n      width: 20px;\r\n      margin: auto;\r\n      line-height: normal;\r\n      img {\r\n        width: 8px;\r\n        margin: auto;\r\n      }\r\n    }\r\n  }\r\n  .test {\r\n    width: calc(100vw - 30px);\r\n    opacity: 0;\r\n    position: absolute;\r\n    top: 1px;\r\n    margin-left: -10000px;\r\n    font-size: 13px;\r\n  }\r\n}\r\n.actor-swiper-slide {\r\n  width: 85px !important;\r\n}\r\n.actorswiper {\r\n  span {\r\n    display: block;\r\n    text-align: center;\r\n  }\r\n  .actor-name {\r\n    padding-top: 10px;\r\n    font-size: 12px;\r\n    color: #191a1b;\r\n    width: 85px;\r\n    height: 18px;\r\n    display: block;\r\n    overflow: hidden;\r\n    -o-text-overflow: ellipsis;\r\n    text-overflow: ellipsis;\r\n    white-space: nowrap;\r\n  }\r\n  .actor-role {\r\n    font-size: 10px;\r\n    color: #797d82;\r\n  }\r\n}\r\n.film .photos {\r\n  margin-top: 10px;\r\n  margin-bottom: 10px;\r\n  background-color: #fff;\r\n  .photos-title-bar {\r\n    height: 32px;\r\n    padding: 15px;\r\n    .photos-title-text {\r\n      font-size: 16px;\r\n      text-align: left;\r\n      color: #191a1b;\r\n    }\r\n    .photos-to-all {\r\n      font-size: 13px;\r\n      color: #797d82;\r\n      float: right;\r\n    }\r\n  }\r\n}\r\n.goSchedule {\r\n  position: fixed;\r\n  bottom: 0;\r\n  left: 0;\r\n  height: 49px;\r\n  width: 100%;\r\n  text-align: center;\r\n  background-color: #ff5f16;\r\n  color: #fff;\r\n  font-size: 16px;\r\n  line-height: 49px;\r\n}\r\n</style>\r\n"]}]}